type UserProgress {
  id: ID!
  userId: ID!
  itemId: ID!
  itemType: String!
  wordRelation: WordRelation
  phraseRelation: PhraseRelation
  ease: Float!
  interval: Int!
  repetitions: Int!
  nextDueDate: String!
  lastReviewed: String
}

type ReviewResult {
  success: Boolean!
  progress: UserProgress
}

type LearningNode {
  id: String!
  name: String!
  level: String!
  isUnlocked: Boolean!
  wordsTotal: Int!
  wordsLearned: Int!
  phrasesTotal: Int!
  phrasesLearned: Int!
}

extend type Query {
  dueItems(userId: ID!, limit: Int, itemType: String): [UserProgress!]!
  userProgress(userId: ID!, itemId: ID!): UserProgress
  allProgress(userId: ID!, itemType: String): [UserProgress!]!
  itemsCount(itemType: String!): Int!
  learningPath(userId: ID!): [LearningNode!]!
}

extend type Mutation {
  reviewItem(
    userId: ID!
    itemId: ID!
    itemType: String!
    rating: Int!
  ): ReviewResult!
}
